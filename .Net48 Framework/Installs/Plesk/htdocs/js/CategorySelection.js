function addCategory(b,f){if(document.getElementById(f).value.indexOf("|"+b+"|")===-1){if(document.getElementById(f).value!==""){document.getElementById(f).value=document.getElementById(f).value+","}document.getElementById(f).value=document.getElementById(f).value+"|"+b+"|";var a=document.getElementById("selectedItems");var c=a.rows.length;var e=a.insertRow(c);e.id="sel"+b;var d=e.insertCell(0);if(Right(c,1)===0||Right(c,1)===2||Right(c,1)===4||Right(c,1)===6||Right(c,1)===8){d.className="TableBody2"}else{d.className="TableBody1"}d.innerHTML=document.getElementById("availtd"+b).innerHTML;d.style.cursor="pointer";d.id="seltd"+b;d.onclick=function(){removeCategory(b)}}else{alert("Category Already Exists.")}removeCatRow("availableItems","avail"+b)}function removeCategory(b,h){try{document.getElementById("SearchCatListHelp").style.display="none"}catch(d){}document.getElementById(h).value=document.getElementById(h).value.replace(",|"+b+"|","");document.getElementById(h).value=document.getElementById(h).value.replace("|"+b+"|","");var a=document.getElementById("availableItems");var c=a.rows.length;var g=a.insertRow(c);g.id="avail"+b;var f=g.insertCell(0);if(Right(c,1)===0||Right(c,1)===2||Right(c,1)===4||Right(c,1)===6||Right(c,1)===8){f.className="TableBody2"}else{f.className="TableBody1"}f.innerHTML=document.getElementById("seltd"+b).innerHTML;f.style.cursor="pointer";f.id="availtd"+b;f.onclick=function(){addCategory(b,h)};removeCatRow("selectedItems","sel"+b)}function removeCatRow(b,d){var c=document.getElementById(b).rows.length;for(var a=0;a<c;a++){try{if(document.getElementById(b).rows[a].id===d){document.getElementById(b).deleteRow(a)}}catch(f){}}}function submitCatSearch(b,c){var a=$("#CatSearch").val();$.ajax({url:"../spadmin/categoryselection.aspx?Keywords="+a+"&PortalID="+b+"&FieldID="+c}).done(function(d){$("#SearchCatList").html(d)});return false}function submitCatKeyPress(a){if(!a.which){return a.keyCode}else{return a.which}};